<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Valentine</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,500;0,700;1,600&family=Libre+Baskerville:wght@400;700&display=swap" rel="stylesheet">

  <style>
    :root {
      --pink-1: #ff4d8d;
      --pink-2: #ff7fb0;
      --pink-3: #ffd1e1;

      --card-bg: rgba(255, 255, 255, 0.86);

      --headline: #5b2436;
      --text: #6a2f42;
      --muted: #9a5b72;

      --shadow: 0 28px 90px rgba(0, 0, 0, 0.14);
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      min-height: 100vh;
      display: grid;
      place-items: center;
      font-family: "Libre Baskerville", serif;
      color: var(--text);
      overflow: hidden;
      background: linear-gradient(-45deg, var(--pink-1), var(--pink-2), var(--pink-3));
      background-size: 400% 400%;
      animation: bg 14s ease infinite;
    }

    @keyframes bg {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    .blob {
      position: fixed;
      width: 520px;
      height: 520px;
      border-radius: 999px;
      filter: blur(60px);
      opacity: 0.22;
      pointer-events: none;
      mix-blend-mode: soft-light;
      animation: blob 12s ease-in-out infinite;
    }
    .blob.one { left: -180px; top: -200px; background: #ffffff; }
    .blob.two { right: -200px; bottom: -220px; background: #ffb3c6; animation-delay: -4s; }
    .blob.three { left: 20%; bottom: -260px; background: #ffd1e1; animation-delay: -7s; }

    @keyframes blob {
      0%, 100% { transform: translate3d(0,0,0) scale(1); }
      50% { transform: translate3d(40px, -30px, 0) scale(1.08); }
    }

    .card {
      width: min(640px, 92vw);
      padding: clamp(20px, 3.6vw, 36px);
      border-radius: 28px;
      background: var(--card-bg);
      box-shadow: var(--shadow);
      text-align: center;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.55);
      position: relative;
      overflow: hidden;
      transform-style: preserve-3d;
      transition: transform 120ms ease;
    }

    h1 {
      margin: 0 0 12px;
      font-family: "Playfair Display", serif;
      font-size: clamp(26px, 4.2vw, 42px);
      font-weight: 600;
      letter-spacing: -0.01em;
      color: var(--headline);
      line-height: 1.12;
    }

    .subtitle {
      margin: 0 0 22px;
      font-size: clamp(13px, 1.8vw, 15px);
      line-height: 1.45;
      color: var(--muted);
    }

    .stage {
      position: relative;
      height: clamp(150px, 18vw, 175px);
      border-radius: 22px;
      background: rgba(255, 255, 255, 0.6);
      border: 1px dashed rgba(255, 77, 141, 0.35);
      overflow: hidden;
    }

    .btn {
      padding: 14px 24px;
      border-radius: 999px;
      font-size: 16px;
      font-weight: 700;
      border: none;
      cursor: pointer;
      user-select: none;
      transition: transform 140ms ease, box-shadow 180ms ease, filter 180ms ease, opacity 220ms ease;
      -webkit-tap-highlight-color: transparent;
      font-family: "Libre Baskerville", serif;
      position: relative;
    }

    .btn:active { transform: scale(0.96); }

    .yes-wrap {
      position: absolute;
      left: 35%;
      top: 50%;
      transform: translate(-50%, -50%);
    }

    .yes {
      background: linear-gradient(135deg, #ff5c9c, #ff8fb8);
      color: white;
      box-shadow: 0 14px 36px rgba(255, 92, 156, 0.45);
      overflow: hidden;
    }

    .yes.pulse { animation: pulse 1.6s ease-in-out infinite; }
    @keyframes pulse {
      0%, 100% { transform: translateY(0); box-shadow: 0 14px 36px rgba(255, 92, 156, 0.45); }
      50% { transform: translateY(-2px); box-shadow: 0 18px 46px rgba(255, 92, 156, 0.55); }
    }

    .yes::after {
      content: "";
      position: absolute;
      inset: -40% -60%;
      background: linear-gradient(115deg, transparent 45%, rgba(255,255,255,.55) 52%, transparent 60%);
      transform: translateX(-60%) rotate(10deg);
      transition: transform 500ms ease;
      pointer-events: none;
    }
    .yes:hover::after { transform: translateX(25%) rotate(10deg); }

    .no {
      position: absolute;
      left: 65%;
      top: 50%;
      transform: translate(-50%, -50%);
      background: rgba(0, 0, 0, 0.06);
      color: #3b1b26;
      border: 1px solid rgba(0, 0, 0, 0.12);
      box-shadow: 0 10px 22px rgba(0, 0, 0, 0.12);
      transition: left 110ms ease, top 110ms ease, transform 110ms ease, opacity 220ms ease;
    }

    .result {
      margin-top: 18px;
      font-weight: 700;
      min-height: 36px;
      font-size: clamp(14px, 2vw, 16px);
    }

    .meta {
      margin-top: 10px;
      font-size: 12px;
      color: var(--muted);
    }

    .heart {
      position: fixed;
      bottom: -24px;
      font-size: 18px;
      opacity: 0.16;
      pointer-events: none;
      animation: floatUp linear forwards;
    }

    @keyframes floatUp {
      from { transform: translateY(0) rotate(0deg); opacity: 0.16; }
      to { transform: translateY(-120vh) rotate(120deg); opacity: 0; }
    }

    /* Valentine letter reveal */
    .letter {
      margin-top: 18px;
      display: none;
      text-align: left;
      background: rgba(255, 255, 255, 0.65);
      border: 1px solid rgba(255, 77, 141, 0.22);
      border-radius: 18px;
      padding: 18px 18px 16px;
      box-shadow: 0 16px 40px rgba(0,0,0,.08);
      position: relative;
      overflow: hidden;
    }

    .letter h2 {
      margin: 0 0 10px;
      font-family: "Playfair Display", serif;
      font-size: 22px;
      color: var(--headline);
    }

    .letter p {
      margin: 0 0 10px;
      color: var(--text);
      font-size: 14px;
      line-height: 1.55;
    }

    .signature {
      margin-top: 10px;
      font-style: italic;
      color: var(--muted);
    }

    /* tear effect using a moving mask-like overlay */
    .tear {
      position: absolute;
      inset: 0;
      background:
        radial-gradient(20px 18px at 10% 50%, rgba(255,255,255,0) 60%, rgba(255,255,255,.95) 62%),
        radial-gradient(22px 18px at 24% 52%, rgba(255,255,255,0) 60%, rgba(255,255,255,.95) 62%),
        radial-gradient(18px 16px at 38% 49%, rgba(255,255,255,0) 60%, rgba(255,255,255,.95) 62%),
        radial-gradient(22px 18px at 52% 52%, rgba(255,255,255,0) 60%, rgba(255,255,255,.95) 62%),
        radial-gradient(18px 16px at 66% 48%, rgba(255,255,255,0) 60%, rgba(255,255,255,.95) 62%),
        radial-gradient(22px 18px at 80% 52%, rgba(255,255,255,0) 60%, rgba(255,255,255,.95) 62%),
        radial-gradient(18px 16px at 92% 49%, rgba(255,255,255,0) 60%, rgba(255,255,255,.95) 62%);
      opacity: 0;
      transform: translateX(-110%);
      pointer-events: none;
      filter: blur(0.2px);
    }

    .letter.reveal {
      display: block;
      animation: letterIn 520ms ease forwards;
    }

    @keyframes letterIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .letter.reveal .tear {
      opacity: 1;
      animation: tearSweep 700ms ease forwards;
    }

    @keyframes tearSweep {
      0% { transform: translateX(-110%); opacity: 0.0; }
      20% { opacity: 0.85; }
      100% { transform: translateX(110%); opacity: 0.0; }
    }

    /* hide stage on yes */
    .stage.fade-out {
      animation: stageOut 520ms ease forwards;
    }

    @keyframes stageOut {
      from { opacity: 1; transform: scale(1); }
      to { opacity: 0; transform: scale(0.98); height: 0px; margin-top: 0; }
    }

    @media (prefers-reduced-motion: reduce) {
      body, .blob, .yes.pulse { animation: none !important; }
      .card { transition: none; transform: none !important; }
      .no { transition: none; }
      .yes::after { transition: none; }
      .stage.fade-out, .letter.reveal { animation: none !important; }
      .letter.reveal .tear { animation: none !important; opacity: 0 !important; }
    }
  </style>
</head>

<body>
  <div class="blob one" aria-hidden="true"></div>
  <div class="blob two" aria-hidden="true"></div>
  <div class="blob three" aria-hidden="true"></div>

  <main class="card" id="card" aria-label="Valentine card">
    <h1>Will you be my Valentine, <em>My HR Baddie</em>?</h1>
    <p class="subtitle">I am asking nicely. The ‚ÄúNo‚Äù button is being dramatic.</p>

    <section class="stage" id="stage" aria-label="Buttons area">
      <div class="yes-wrap">
        <button class="btn yes pulse" id="yesBtn" type="button">Yes</button>
      </div>
      <button class="btn no" id="noBtn" type="button">No</button>
    </section>

    <div class="result" id="result" aria-live="polite"></div>
    <div class="meta" id="meta">Tip: hover ‚ÄúNo‚Äù if you enjoy chaos (tap on mobile).</div>

    <section class="letter" id="letter" aria-label="Love letter">
      <div class="tear" aria-hidden="true"></div>
      <h2>Official Valentine Confirmation</h2>
      <p>
        Congratulations. You have successfully accepted the role of
        <strong>My Valentine</strong>.
      </p>
      <p>
        Your compensation package includes: unlimited forehead kisses, priority cuddles,
        and me pretending I did not already plan the entire date.
      </p>
      <p>
        I like you a lot. Like, embarrassingly.
      </p>
      <p class="signature">Love, your favorite person üíñ</p>
    </section>
  </main>

  <script>
    const stage = document.getElementById("stage");
    const card = document.getElementById("card");
    const noBtn = document.getElementById("noBtn");
    const yesBtn = document.getElementById("yesBtn");
    const result = document.getElementById("result");
    const meta = document.getElementById("meta");
    const letter = document.getElementById("letter");

    let heartsTimer = null;
    let lineIndex = 0;

    const hoverLines = [
      "Whoa. Not even going to hear me out?",
      "Plot twist: the ‚ÄúNo‚Äù button has trust issues.",
      "If you hit ‚ÄúNo,‚Äù I‚Äôm telling the group chat you panicked.",
      "Come on. I already picked our vibe for the night.",
      "You‚Äôre really going to make me beg?",
      "This button is fast because it knows we‚Äôre cute.",
      "If you want to say no, you‚Äôll have to catch it first.",
      "Be serious. Look how romantic this font is."
    ];

    function clamp(n, min, max) {
      return Math.max(min, Math.min(max, n));
    }

    function showNextLine() {
      result.textContent = hoverLines[lineIndex % hoverLines.length];
      lineIndex += 1;
    }

    function moveNo() {
      const s = stage.getBoundingClientRect();
      const b = noBtn.getBoundingClientRect();
      const pad = 10;

      const maxX = s.width - b.width - pad;
      const maxY = s.height - b.height - pad;

      const x = clamp(Math.random() * maxX, pad, maxX);
      const y = clamp(Math.random() * maxY, pad, maxY);

      noBtn.style.left = `${x}px`;
      noBtn.style.top = `${y}px`;
      noBtn.style.transform = "translate(0,0)";
    }

    // subtle tilt on pointer devices
    function tiltCard(e) {
      const r = card.getBoundingClientRect();
      const px = (e.clientX - r.left) / r.width;
      const py = (e.clientY - r.top) / r.height;

      const rotY = (px - 0.5) * 8;
      const rotX = (0.5 - py) * 8;

      card.style.transform = `rotateX(${rotX}deg) rotateY(${rotY}deg)`;
    }
    function resetTilt() {
      card.style.transform = "rotateX(0deg) rotateY(0deg)";
    }

    noBtn.addEventListener("mouseenter", () => {
      if (noBtn.disabled) return;
      showNextLine();
      moveNo();
    });

    noBtn.addEventListener("touchstart", (e) => {
      if (noBtn.disabled) return;
      e.preventDefault();
      showNextLine();
      moveNo();
    }, { passive: false });

    noBtn.addEventListener("click", () => {
      if (noBtn.disabled) return;
      result.textContent = "Nice try. The ‚ÄúNo‚Äù option has left the building.";
      moveNo();
    });

    yesBtn.addEventListener("click", () => {
      // stop the playful prompt text
      result.textContent = "Approved. Printing your love letter...";
      meta.textContent = "";

      // disable buttons and remove pulse
      yesBtn.classList.remove("pulse");
      yesBtn.disabled = true;
      noBtn.disabled = true;

      // fade out the entire stage (buttons area)
      stage.classList.add("fade-out");

      // reveal letter after stage anim starts
      setTimeout(() => {
        letter.classList.add("reveal");
        result.textContent = "";
        startHearts();
      }, 320);

      // reset card tilt to calm it down
      card.style.transform = "rotateX(0deg) rotateY(0deg)";
    });

    function startHearts() {
      if (heartsTimer) return;

      const hearts = ["üíñ", "üíò", "üíï", "‚ù§Ô∏è"];
      heartsTimer = setInterval(() => {
        const h = document.createElement("div");
        h.className = "heart";
        h.textContent = hearts[Math.floor(Math.random() * hearts.length)];
        h.style.left = Math.random() * 100 + "vw";
        h.style.animationDuration = 7 + Math.random() * 6 + "s";
        document.body.appendChild(h);
        setTimeout(() => h.remove(), 16000);
      }, 320);
    }

    window.addEventListener("load", () => {
      noBtn.style.left = "65%";
      noBtn.style.top = "50%";
      noBtn.style.transform = "translate(-50%, -50%)";

      if (window.matchMedia("(hover: hover) and (pointer: fine)").matches) {
        document.addEventListener("mousemove", tiltCard);
        card.addEventListener("mouseleave", resetTilt);
      }
    });
  </script>
</body>
</html>
